<mat-form-field appearance="fill" floatLabel="always">
  <mat-label>{{ label() }}</mat-label>

  <input
    matInput
    [type]="showPassword ? 'text' : 'password'"
    [(ngModel)]="value"
    (ngModelChange)="valueChange"
    #textInput="ngModel"
    [name]="name() ? name() : label().toLowerCase()"
    [required]="required()"
    [errorStateMatcher]="errorMatcher"
    [disabled]="disabled()"
    [attr.autocomplete]="autocompletePassword()"
    autocapitalize="none"
    spellcheck="false"
    [appPasswordStrength]="passwordRequirements()"
    (keydown.enter)="enterPressed()"
  />
  <app-icon
    matSuffix
    [src]="showPassword ? hidePasswordIcon : showPasswordIcon"
    (click)="showPassword = !showPassword"
  />
  <app-icon
    *ngIf="helpText()"
    class="input-help"
    matSuffix
    [src]="helpIcon"
    [matTooltip]="helpText()"
  />
  <mat-error *ngIf="textInput.invalid && textInput.errors">
    {{ getPasswordErrorText(textInput.errors) }}
  </mat-error>
</mat-form-field>
